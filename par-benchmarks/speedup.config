if [ $# -ne 0 ]; then
    cores=$1
    shift
else
    cores=8
fi
benchmarks="sobol/soboloption.mlb sobol/sobolpi.mlb mandelbrot/mandelbrot.mlb primes/primes.mlb soac/sgm_scan.mlb soac/scan.mlb soac/filter.mlb fib/fib.mlb vpmsort/vpmsort.mlb pmsort/pmsort.mlb ray/ray.mlb ray-orig/ray-orig.mlb nqueens/nqueens.mlb"
runs=10

# Everything from here on is more of a library than a configuration -
# don't modify it unless you're looking for trouble.

bench="../src/mlkit-bench -n $runs"
speedup="../src/speedup/mlkit-bench-speedup"

gnuplot_prelude() {
    echo "set terminal png noenhanced;"
    echo "set output '$1.png';"
    echo "data='$2';"
}

echo "Measuring speedup from 1 to $cores cores."
